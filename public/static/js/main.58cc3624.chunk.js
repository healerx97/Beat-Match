(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(29),s=n.n(a),r=n(13),i=(n(76),n(8)),l=n.n(i),o=n(14),j=n(6),d=(n(63),n(78),n(119)),b=n(113),u=n(120),h=n(114),m=n.p+"static/media/logo-normal-5000-round.4493e6f2.png",x=n(0);var p=function(e){var t=e.user,n=e.logOut,a=e.setErrors,s=Object(c.useState)(window.innerWidth),i=Object(j.a)(s,2),l=i[0],o=i[1];function p(e){t&&n()}function O(e){document.activeElement.blur(),a([])}function f(){a([])}return window.addEventListener("resize",(function(){return o(window.innerWidth)})),Object(x.jsx)(x.Fragment,{children:l>576?Object(x.jsx)("header",{children:Object(x.jsxs)(d.a,{className:"navbar",variant:"primary",sticky:"top",style:{minWidth:"100vw",minHeight:"10vh"},children:[Object(x.jsxs)(b.a,{className:"container-fluid",id:"navbar",children:[Object(x.jsx)(d.a.Brand,{children:Object(x.jsx)("img",{src:m,width:"40",height:"40",alt:"BeatMatch"})}),Object(x.jsxs)(u.a,{className:"me-auto",children:[Object(x.jsx)(u.a.Link,{className:"link",onClick:f,as:r.b,to:"/",children:"Swipe"}),Object(x.jsx)(u.a.Link,{className:"link",onClick:f,as:r.b,to:"/matches",children:"Matches"}),Object(x.jsx)(u.a.Link,{className:"link",onClick:f,as:r.b,to:"/profile",children:"Profile"}),Object(x.jsx)(u.a.Link,{className:"link",onClick:f,as:r.b,to:"/feed",children:"Feed"}),Object(x.jsx)(u.a.Link,{className:"link",as:r.b,onClick:p,to:"/login",children:t?"Logout":"Login"})]})]}),Object(x.jsxs)("div",{style:{display:"flex",marginRight:"2vw",alignItems:"center"},children:[Object(x.jsx)("h3",{className:"loggedIn",style:{fontSize:"medium"},children:t?"Welcome ".concat(t.username):null}),Object(x.jsx)("img",{src:t.image_url,alt:"profile pic",style:{width:"40px",height:"30px"}})]})]})}):Object(x.jsxs)(d.a,{className:"navbar",variant:"primary",sticky:"top",style:{minWidth:"100vw",minHeight:"10vh"},children:[Object(x.jsxs)(b.a,{className:"container-fluid",id:"navbar",children:[Object(x.jsx)(d.a.Brand,{children:Object(x.jsx)("img",{src:m,width:"40",height:"40",alt:"BeatMatch"})}),Object(x.jsx)(u.a,{className:"me-auto",children:Object(x.jsxs)(h.a,{title:"Your Account",id:"basic-nav-dropdown",children:[Object(x.jsx)(h.a.Item,{className:"link",onClick:O,as:r.b,to:"/",children:"Swipe"}),Object(x.jsx)(h.a.Item,{className:"link",onClick:O,as:r.b,to:"/matches",children:"Matches"}),Object(x.jsx)(h.a.Item,{className:"link",onClick:O,as:r.b,to:"/profile",children:"Profile"}),Object(x.jsx)(h.a.Item,{className:"link",onClick:O,as:r.b,to:"/feed",children:"Feed"}),Object(x.jsx)(h.a.Item,{className:"link",as:r.b,onClick:p,to:"/login",children:"Logout"})]})})]}),t.username.length<=7?Object(x.jsxs)("div",{style:{display:"flex",marginRight:"2vw",alignItems:"center"},children:[Object(x.jsx)("h3",{className:"loggedIn",style:{fontSize:"medium"},children:t?"Welcome ".concat(t.username):null}),Object(x.jsx)("img",{src:t.image_url,alt:"profile pic",style:{width:"40px",height:"30px"}})]}):Object(x.jsx)("div",{style:{justifyContent:"left"},children:Object(x.jsx)("h3",{className:"loggedIn",style:{fontSize:"small",marginRight:"2vw"},children:t?"Welcome ".concat(t.username):null})})]})})},O=n(2);function f(e){var t=e.id,n=e.username,c=e.image_url,a=e.bio,s=e.deleteMatch;return Object(x.jsxs)("div",{className:"col-md-4 mt-4",children:[Object(x.jsxs)("div",{className:"profile-card profile-card-5",children:[Object(x.jsx)("div",{className:"card-img-block",children:Object(x.jsx)("img",{className:"card-img-top",src:c,alt:"Profile",height:"300px"})}),Object(x.jsxs)("div",{className:"card-body pt-0",children:[Object(x.jsx)("h5",{className:"card-title",children:n}),Object(x.jsx)("p",{className:"card-text",children:a})]})]}),Object(x.jsx)("button",{onClick:function(e){return s(t)},type:"button",className:"btn btn-outline-danger btn-sm",children:Object(x.jsx)("strong",{children:"Remove Match"})})]})}var g=function(e){var t=e.user,n=Object(c.useState)([]),a=Object(j.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!1),d=Object(j.a)(i,2),b=d[0],u=d[1];function h(e){fetch("/matches/".concat(e),{method:"DELETE"}).then((function(e){return console.log(e)})).then((function(){return u(!b)}))}return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/getmatches");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:n=e.sent,r(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log("useEffectMatches")}),[b]),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("h2",{style:{marginTop:"20px",marginBottom:"20px"},children:[t.username,"'s Matches"]}),0===s.length?Object(x.jsx)("h5",{children:"You don't have any matches yet"}):s.map((function(e,n){return Object(x.jsx)(f,Object(O.a)(Object(O.a)({deleteMatch:h},e),{},{user:t}),n)}))]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})},v=n(118);var y=n(40),N=n.n(y);function w(e){return Object(c.useEffect)((function(){setTimeout((function(){e.setDisplayModal(!1)}),2e3)}),[]),Object(x.jsx)("div",{className:"modal fade show ",id:"exampleModalCenter",role:"dialog","aria-labelledby":"exampleModalCenterTitle",style:{display:"block"},children:Object(x.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(x.jsx)("div",{className:"modal-content",style:{background:"#e95420"},children:Object(x.jsx)("div",{className:"modal-header",children:Object(x.jsx)("h5",{className:"modal-title",id:"exampleModalLongTitle",style:{margin:"auto"},children:"Matched with user!!"})})})})})}var k=function(e){e.tracks;var t=e.swipeUsers,n=e.setSwipeUsers,a=Object(c.useState)(0),s=Object(j.a)(a,2),r=s[0],i=s[1],d=Object(c.useState)(""),b=Object(j.a)(d,2),u=(b[0],b[1],Object(c.useState)(!1)),h=Object(j.a)(u,2),m=h[0],p=h[1],O=Object(c.useState)(window.innerWidth),f=Object(j.a)(O,2),g=f[0],y=f[1],k=Object(x.jsx)("h1",{className:"text-danger",children:"No swipes left!"});return console.log(r),Object(x.jsxs)("div",{className:"container-md my-5",style:{width:g<768?"95%":"60%",backgroundRepeat:"no-repeat"},children:[Object(x.jsx)(v.a,{indicators:!1,activeIndex:r,onSelect:function(e,t){console.log(e),i(e)},interval:null,children:m?Object(x.jsx)(w,{setDisplayModal:p}):t.map((function(e){return function(e){function c(){return(c=Object(o.a)(l.a.mark((function c(a){var s,o,j,d;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return document.activeElement.blur(),s={liked_user_id:e.id},c.next=4,fetch("/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 4:if(!(o=c.sent).ok){c.next=14;break}return c.next=8,o.json();case 8:j=c.sent,console.log(j.response),"match"===j.response&&p(!0),d=t.filter((function(t){return t.id!==e.id})),n(d),r>=d.length&&i(0);case 14:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return window.addEventListener("resize",(function(){return y(window.innerWidth)})),Object(x.jsxs)(v.a.Item,{children:[Object(x.jsx)("img",{className:"d-block w-100",src:"https://images.unsplash.com/photo-1547623641-d2c56c03e2a7?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTF8fHByb2Zlc3Npb25hbCUyMGJhY2tncm91bmR8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80",alt:"First slide",style:{height:"550px",borderRadius:"30px"}}),Object(x.jsxs)(v.a.Caption,{style:{display:"block",height:"90%",padding:"0"},children:[0!=e.tracks.length?Object(x.jsx)(N.a,{url:"".concat(e.tracks[0].song_url),width:"100%",height:g<768?"20%":"30%",config:{soundcloud:{options:{sharing:!0}}}}):null,Object(x.jsx)("div",{className:"container mt-5 d-flex justify-content-center",style:{color:"coral"},children:Object(x.jsx)("div",{className:"swipe-card p-3",children:Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsxs)("div",{className:"image",children:[" ",Object(x.jsx)("img",{src:"".concat(e.image_url),className:"rounded",width:g<768?"60":"155"})," "]}),Object(x.jsxs)("div",{className:"ml-3 w-100",children:[Object(x.jsx)("h4",{className:"mb-0 mt-0",children:e.username})," ",Object(x.jsx)("span",{children:e.user_type}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[" ",Object(x.jsxs)("span",{className:"number2",children:["Age    ",e.age]})," "]})}),Object(x.jsx)("div",{className:"button  mt-2 d-flex flex-row align-items-center",children:Object(x.jsx)("button",{onClick:function(e){return c.apply(this,arguments)},className:"btn orange-btn btn-sm ml-2",style:{width:"50px"},children:"Like"})})]})]})})}),Object(x.jsx)("div",{className:"container mt-5 d-flex justify-content-center",style:{color:"coral"},children:Object(x.jsx)("div",{className:"swipe-card p-3",children:Object(x.jsx)("span",{children:e.bio})})})]})]})}(e)}))}),0==t.length?k:null]})},C=n(10);var S=function(e){var t=e.onLogin,n=Object(c.useState)(""),a=Object(j.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(""),d=Object(j.a)(i,2),b=d[0],u=d[1],h=Object(c.useState)(""),p=Object(j.a)(h,2),O=p[0],f=p[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),y=v[0],N=v[1],w=Object(c.useState)("Producer"),k=Object(j.a)(w,2),S=k[0],T=k[1],L=Object(c.useState)(""),M=Object(j.a)(L,2),E=M[0],D=M[1],P=Object(c.useState)(!0),F=Object(j.a)(P,2),R=F[0],B=F[1],W=Object(c.useState)([]),U=Object(j.a)(W,2),_=U[0],I=U[1],A=Object(c.useState)(window.innerWidth),q=Object(j.a)(A,2),J=q[0],z=q[1],G=Object(C.g)();function Y(){B(!R),I([]),r(""),N(""),u(""),f("")}function H(){return(H=Object(o.a)(l.a.mark((function e(n){var c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={username:s,image_url:""===E?"https://s.yimg.com/ny/api/res/1.2/.N2GYfm.grlO5KT6ErO3FA--/YXBwaWQ9aGlnaGxhbmRlcjt3PTY0MDtoPTM5OS42/https://s.yimg.com/os/creatr-uploaded-images/2021-02/572c4830-721d-11eb-bb63-96959c3b62f2":E,user_type:S,age:parseInt(b),bio:O,password:y},e.next=4,fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?(t(r),I([]),G.push("/")):I(r.errors);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(o.a)(l.a.mark((function e(n){var c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={username:s,password:y},e.next=4,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?(t(r),I([]),G.push("/")):(console.log(r),I(r.errors));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("resize",(function(){return z(window.innerWidth)}));var K="";return K=J>415?"20%":"50%",Object(x.jsx)(x.Fragment,{children:R?Object(x.jsx)("section",{className:"vh-100 gradient-custom",children:Object(x.jsxs)("div",{className:"container h-100",children:[Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("img",{src:m,alt:"BeatMatch",className:"square",style:{width:K}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{style:{display:"block",width:"60vw",margin:"auto",overflow:"hidden"},children:[Object(x.jsxs)("h1",{children:["Welcome to ",Object(x.jsx)("span",{className:"orange",children:"BeatMatch"})]}),Object(x.jsx)("h2",{style:{marginBottom:"20px"},children:"Where rappers and producers can easily connect with other artists"}),Object(x.jsx)("h3",{children:"\ud83c\udfa7 \ud83c\udfb9 \ud83c\udfb8\ud83c\udfa4\ud83c\udfb5\ud83e\udd1d"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"row justify-content-center align-items-center",children:Object(x.jsx)("div",{className:"col-12 col-lg-9 col-xl-7",children:Object(x.jsx)("div",{className:"card shadow-2-strong card-registration",style:{borderRadius:"15px"},children:Object(x.jsxs)("div",{className:"card-body p-4 p-md-5",children:[Object(x.jsx)("h3",{className:"mb-4 pb-2 pb-md-0 mb-md-5",children:"BeatMatch Login"}),Object(x.jsx)("form",{onSubmit:function(e){return Z.apply(this,arguments)},children:Object(x.jsxs)("div",{className:"row ",children:[Object(x.jsxs)("div",{className:"col-md-6 login mb-6",children:[Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{type:"text",id:"username",className:"form-control form-control-lg",value:s,onChange:function(e){return r(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"Username"})]}),Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{type:"password",id:"password",className:"form-control form-control-lg",value:y,onChange:function(e){return N(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"})]}),_!==[]?Object(x.jsx)("div",{children:_.map((function(e,t){return Object(x.jsx)("p",{style:{color:"red"},children:e},t)}))}):null]}),Object(x.jsxs)("div",{className:"mt-6 pt-2",children:[Object(x.jsx)("input",{className:"btn btn-primary btn-lg",type:"submit",value:"Submit"}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("a",{className:"link",onClick:Y,children:"New to BeatMatch? Create Your Profile!"})]})]})})]})})})}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})}):Object(x.jsx)("section",{className:"vh-100 gradient-custom",children:Object(x.jsxs)("div",{className:"container h-100",children:[Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("img",{src:m,alt:"BeatMatch",className:"square",style:{width:K}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{style:{display:"block",width:"60vw",margin:"auto",overflow:"hidden"},children:[Object(x.jsxs)("h1",{children:["Welcome to ",Object(x.jsx)("span",{className:"orange",children:"BeatMatch"})]}),Object(x.jsx)("h2",{style:{marginBottom:"20px"},children:"Where rappers and producers can easily connect with other artists"}),Object(x.jsx)("h3",{children:"\ud83c\udfa7 \ud83c\udfb9 \ud83c\udfb8\ud83c\udfa4\ud83c\udfb5\ud83e\udd1d"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"row justify-content-center align-items-center",children:Object(x.jsx)("div",{className:"col-12 col-lg-9 col-xl-7",children:Object(x.jsx)("div",{className:"card shadow-2-strong card-registration",style:{borderRadius:"15px"},children:Object(x.jsxs)("div",{className:"card-body p-4 p-md-5",children:[Object(x.jsx)("h3",{className:"mb-4 pb-2 pb-md-0 mb-md-5",children:"BeatMatch Signup"}),Object(x.jsxs)("form",{onSubmit:function(e){return H.apply(this,arguments)},children:[Object(x.jsxs)("div",{className:"col-md-6 login mb-4",children:[Object(x.jsx)("h6",{className:"mb-2 pb-1",children:"User Role: "}),Object(x.jsxs)("div",{className:"form-check form-check-inline",children:[Object(x.jsx)("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"Producer",checked:"Producer"===S,onChange:function(e){return T(e.target.value)}}),Object(x.jsx)("label",{className:"form-check-label",children:"Producer"})]}),Object(x.jsxs)("div",{className:"form-check form-check-inline",children:[Object(x.jsx)("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"Rapper",checked:"Rapper"===S,onChange:function(e){return T(e.target.value)}}),Object(x.jsx)("label",{className:"form-check-label",children:"Rapper"})]})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-6 mb-4",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{required:!0,type:"text",id:"username",className:"form-control form-control-lg",value:s,onChange:function(e){return r(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"Username"})]})}),Object(x.jsx)("div",{className:"col-md-6 mb-4",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{type:"text",id:"imageURL",className:"form-control form-control-lg",value:E,onChange:function(e){return D(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"Profile Pic URL"})]})}),Object(x.jsx)("div",{className:"col-md-6 mb-4",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{required:!0,type:"number",min:"13",id:"age",className:"form-control form-control-lg",value:b,onChange:function(e){return u(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"age",children:"Age"})]})}),Object(x.jsx)("div",{className:"col-md-6 mb-4 pb-2",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{required:!0,type:"password",id:"password",className:"form-control form-control-lg",value:y,onChange:function(e){return N(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"})]})})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-6 login mb-6 pb-2",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("textarea",{required:!0,type:"bio",id:"bio",className:"form-control form-control-lg",value:O,onChange:function(e){return f(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"bio",children:"Bio"})]})}),_!==[]?Object(x.jsx)("div",{children:_.map((function(e,t){return Object(x.jsx)("p",{style:{color:"red"},children:e},t)}))}):null]}),Object(x.jsxs)("div",{className:"mt-6 pt-2",children:[Object(x.jsx)("input",{className:"btn btn-primary btn-lg",type:"submit",value:"Submit"}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("a",{className:"link",onClick:Y,children:"Back to Login Form"})]})]})]})})})}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})})})},T=n(117),L=n(71),M=n(115);var E=function(e){var t=e.trackData,n=e.profileTrack;console.log(t),console.log(n);var c={};return c=t||n,N.a.canPlay(c.song_url)?Object(x.jsxs)("div",{style:{width:"80%",margin:"auto"},children:[Object(x.jsx)("br",{}),t?Object(x.jsxs)("h4",{children:["Posted by: ",t.user.username]}):null,Object(x.jsx)(N.a,{url:"".concat(t?t.song_url:n.song_url),width:"100%",height:"50%",config:{soundcloud:{options:{sharing:!0}}}}),t?t.tags.map((function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{style:{display:"inline-flex",flexDirection:"row",flexWrap:"wrap"},children:Object(x.jsx)(M.a,{bg:"secondary",children:e.genre})})," "]})})):n.tags.map((function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{style:{display:"inline-flex",flexDirection:"row",flexWrap:"wrap"},children:Object(x.jsx)(M.a,{bg:"secondary",children:e.genre})})," "]})}))]}):null};var D=function(e){var t=e.user,n=e.tags,a=e.tracks,s=e.handleTrackAdd,r=e.handleDeleteTrack,i=e.handleUserUpdate,d=e.handleUserDelete,b=e.errors,u=Object(c.useState)(""),h=Object(j.a)(u,2),m=h[0],p=h[1],O=Object(c.useState)(""),f=Object(j.a)(O,2),g=f[0],v=f[1],y=Object(c.useState)(""),N=Object(j.a)(y,2),w=N[0],k=N[1],C=Object(c.useState)(""),S=Object(j.a)(C,2),M=S[0],D=S[1],P=Object(c.useState)(""),F=Object(j.a)(P,2),R=F[0],B=F[1],W=Object(c.useState)(""),U=Object(j.a)(W,2),_=U[0],I=U[1],A=Object(c.useState)(""),q=Object(j.a)(A,2),J=q[0],z=q[1],G=Object(c.useState)(""),Y=Object(j.a)(G,2),H=Y[0],Z=Y[1],K=Object(c.useState)(!0),Q=Object(j.a)(K,2),X=Q[0],V=Q[1],$=Object(c.useState)(t.username),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(t.image_url),ae=Object(j.a)(ce,2),se=ae[0],re=ae[1],ie=Object(c.useState)(t.age),le=Object(j.a)(ie,2),oe=le[0],je=le[1],de=Object(c.useState)(t.bio),be=Object(j.a)(de,2),ue=be[0],he=be[1],me=Object(c.useState)(t.user_type),xe=Object(j.a)(me,2),pe=xe[0],Oe=xe[1],fe=Object(c.useState)(window.innerWidth),ge=Object(j.a)(fe,2),ve=ge[0],ye=ge[1];function Ne(){return(Ne=Object(o.a)(l.a.mark((function e(n){var c,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c={user_id:t.id,title:m,song_url:g},e.next=4,fetch("/tracks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return a=e.sent,e.next=7,a.json();case 7:s=e.sent,a.ok&&(we(s),p(""),v(""));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){var t=[w,M,R,_,J,H].filter((function(e){return""!==e})),c=n.map((function(e){return e.genre}));t.forEach((function(t){c.includes(t)?ke(n.find((function(e){return e.genre===t})),e):fetch("/tags",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({genre:t})}).then((function(e){return e.json()})).then((function(t){ke(t,e)}))}))}function ke(e,t){fetch("/track_tags",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({track_id:t.id,tag_id:e.id})}).then((function(e){return e.json()})).then((function(){return e=t.id,void fetch("/tracks/".concat(e)).then((function(e){return e.json()})).then((function(e){s(),k(""),D(""),B(""),I(""),z(""),Z("")}));var e}))}console.log(a),console.log(a);var Ce=a.filter((function(e){return e.user_id===t.id}));return window.addEventListener("resize",(function(){return ye(window.innerWidth)})),Object(x.jsx)(x.Fragment,{children:X?Object(x.jsx)("section",{className:"vh-90 gradient-custom",children:Object(x.jsx)("div",{className:"container py-5 h-100",children:Object(x.jsx)("div",{className:"row justify-content-center align-items-center h-100",children:Object(x.jsx)("div",{className:"col-12 col-lg-9 col-xl-7",children:Object(x.jsxs)("div",{className:"card shadow-2-strong card-registration",style:{borderRadius:"15px"},children:[Object(x.jsxs)("div",{className:"card-body p-4 p-md-5",children:[Object(x.jsx)("h3",{className:"mb-4 pb-2 pb-md-0 mb-md-5",children:"BeatMatch Account Update"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={username:te,image_url:se,user_type:pe,age:parseInt(oe),bio:ue};i(t)},children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-6 mb-4",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{required:!0,type:"text",id:"username",className:"form-control form-control-lg",value:te,onChange:function(e){return ne(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"Username"})]})}),Object(x.jsx)("div",{className:"col-md-6 mb-4",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{type:"text",id:"imageURL",className:"form-control form-control-lg",value:se,onChange:function(e){return re(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"Profile Pic URL"})]})}),Object(x.jsx)("div",{className:"col-md-6 mb-4",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("input",{required:!0,type:"number",min:"13",id:"age",className:"form-control form-control-lg",value:oe,onChange:function(e){return je(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"age",children:"Age"})]})})]}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-6 mb-4 pb-2",children:Object(x.jsxs)("div",{className:"form-outline",children:[Object(x.jsx)("textarea",{required:!0,type:"bio",id:"bio",className:"form-control form-control-lg",value:ue,onChange:function(e){return he(e.target.value)}}),Object(x.jsx)("label",{className:"form-label",htmlFor:"bio",children:"Bio"})]})})}),Object(x.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(x.jsx)("h6",{className:"mb-2 pb-1",children:"User Role: "}),Object(x.jsxs)("div",{className:"form-check form-check-inline",children:[Object(x.jsx)("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"Producer",checked:"Producer"===pe,onChange:function(e){return Oe(e.target.value)}}),Object(x.jsx)("label",{className:"form-check-label",children:"Producer"})]}),Object(x.jsxs)("div",{className:"form-check form-check-inline",children:[Object(x.jsx)("input",{className:"form-check-input",type:"radio",name:"inlineRadioOptions",value:"Rapper",checked:"Rapper"===pe,onChange:function(e){return Oe(e.target.value)}}),Object(x.jsx)("label",{className:"form-check-label",children:"Rapper"})]})]}),Object(x.jsxs)("div",{className:"mt-4",style:{display:"inline-block"},children:[Object(x.jsx)("input",{style:{margin:"5px"},className:"btn btn-primary btn-lg",type:"submit",value:"Save Changes"}),Object(x.jsx)("input",{style:{margin:"5px"},className:"btn btn-primary btn-lg",type:"button",value:"Add/Show Your Tracks!",onClick:function(){return V(!X)}}),Object(x.jsx)("input",{style:{margin:"5px"},className:"btn btn-danger btn-lg",type:"button",value:"Delete Profile",onClick:d})]})]})]}),b!==[]?Object(x.jsx)("div",{children:b.map((function(e,t){return Object(x.jsx)("p",{style:{color:"red"},children:e},t)}))}):null]})})})})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(x.jsx)("br",{}),Object(x.jsxs)(T.a,{onSubmit:function(e){return Ne.apply(this,arguments)},children:[Object(x.jsxs)(T.a.Group,{className:"mb-3",type:"text",children:[Object(x.jsx)(T.a.Label,{children:"Track Title"}),Object(x.jsx)(T.a.Control,{required:!0,type:"text",placeholder:"Name of your track",value:m,onChange:function(e){return p(e.target.value)},style:{width:ve<768?"85%":"",margin:"auto"}}),Object(x.jsx)(T.a.Text,{className:"text-muted",children:"Unleash your creativity"})]}),Object(x.jsxs)(T.a.Group,{className:"mb-3",type:"text",children:[Object(x.jsx)(T.a.Label,{children:"Track Link"}),Object(x.jsx)(T.a.Control,{required:!0,type:"text",placeholder:"Link to your track",value:g,onChange:function(e){return v(e.target.value)},style:{width:ve<768?"85%":"",margin:"auto"}})]}),Object(x.jsxs)(T.a.Group,{className:"mb-3",type:"text",children:[Object(x.jsx)(T.a.Label,{children:"Track Tags"}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{style:{display:"inline-flex",flexDirection:"row",flexWrap:"wrap",width:ve<768?"75%":""},children:[Object(x.jsx)(T.a.Control,{style:{width:"100px",justifyContent:"space-between",margin:"10px"},required:!0,type:"text",placeholder:"Tag 1",value:w,onChange:function(e){return k(e.target.value)}}),Object(x.jsx)(T.a.Control,{style:{width:"100px",justifyContent:"space-evenly",margin:"10px"},type:"text",placeholder:"Tag 2",value:M,onChange:function(e){return D(e.target.value)}}),Object(x.jsx)(T.a.Control,{style:{width:"100px",justifyContent:"space-evenly",margin:"10px"},type:"text",placeholder:"Tag 3",value:R,onChange:function(e){return B(e.target.value)}}),Object(x.jsx)(T.a.Control,{style:{width:"100px",justifyContent:"space-evenly",margin:"10px"},type:"text",placeholder:"Tag 4",value:_,onChange:function(e){return I(e.target.value)}}),Object(x.jsx)(T.a.Control,{style:{width:"100px",justifyContent:"space-evenly",margin:"10px"},type:"text",placeholder:"Tag 5",value:J,onChange:function(e){return z(e.target.value)}}),Object(x.jsx)(T.a.Control,{style:{width:"100px",justifyContent:"space-evenly",margin:"10px"},type:"text",placeholder:"Tag 6",value:H,onChange:function(e){return Z(e.target.value)}})]})]}),Object(x.jsxs)("div",{style:{display:"inline-flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(x.jsx)(L.a,{variant:"primary",type:"submit",style:{margin:"10px"},children:"Submit"})," ",Object(x.jsx)(L.a,{variant:"primary",type:"button",style:{margin:"10px"},onClick:function(){return V(!X)},children:"Back to Account Update"})]})]})]}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(x.jsx)("br",{}),Object(x.jsx)("h2",{children:"Track List"}),Ce.length>0?Ce.map((function(e,t){return Object(x.jsxs)("div",{style:{width:"100%",margin:"auto"},children:[Object(x.jsx)(E,{profileTrack:e},t),Object(x.jsx)(L.a,{id:e.id,onClick:r,variant:"danger",size:"sm",children:"Delete Track"}),Object(x.jsx)("br",{})]})})):Object(x.jsx)("h3",{style:{color:"red"},children:"No tracks to display"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})})},P=n(116),F=n(26);var R=function(e){var t=e.tracks,n=e.tags,a=Object(c.useState)("All Tags"),s=Object(j.a)(a,2),r=s[0],i=s[1],l=Object(c.useState)(""),o=Object(j.a)(l,2),d=o[0],b=o[1],u=Object(c.useState)(t),h=Object(j.a)(u,2),m=h[0],p=h[1];return n.map((function(e){return e.id})),console.log(t),Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)("h1",{children:"BeatMatch Feed"}),Object(x.jsx)("h4",{style:{width:"90vw",margin:"auto"},children:"Hear the latest tracks from fellow BeatMatch users!"}),Object(x.jsx)("br",{}),Object(x.jsx)("h5",{children:"Search by..."}),Object(x.jsxs)(T.a,{onSubmit:function(e){e.preventDefault(),document.activeElement.blur();var n=[],c=(t.forEach((function(e){e.tags.forEach((function(t){t.genre!==r&&"All Tags"!==r&&"ALL"!==r||n.includes(e)||n.push(e)}))})),n.filter((function(e){return e.user.username===d||""===d})));p(c)},children:[Object(x.jsxs)("div",{style:{display:"inline-flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(x.jsx)(T.a.Group,{type:"text",children:Object(x.jsx)(P.a,{id:"dropdown-basic-button",title:r,style:{width:"100px",margin:"10px"},children:n.map((function(e,t){return Object(x.jsx)(F.a.Item,{id:e.genre,onClick:function(e){return i(e.target.id)},children:e.genre},t)}))})}),Object(x.jsx)(T.a.Group,{style:{marginTop:"10px",width:"140px",marginRight:"10px"},children:Object(x.jsx)(T.a.Control,{type:"text",placeholder:"Username",value:d,onChange:function(e){return b(e.target.value)}})})]}),Object(x.jsx)("button",{className:"btn orange-btn btn-sm  ml-2",style:{width:"100px",height:"36px"},type:"submit",children:"Search"})]}),Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:m.map((function(e,t){return Object(x.jsx)(E,{trackData:e},t)}))}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})};var B=function(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(j.a)(s,2),i=r[0],d=r[1],b=Object(c.useState)([]),u=Object(j.a)(b,2),h=u[0],m=u[1],O=Object(c.useState)([]),f=Object(j.a)(O,2),v=f[0],y=f[1],N=Object(c.useState)([]),w=Object(j.a)(N,2),T=w[0],L=w[1],M=Object(c.useState)(!1),E=Object(j.a)(M,2),P=E[0],F=E[1],B=Object(C.g)();function W(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var c=[e[t],e[n]];e[n]=c[0],e[t]=c[1]}return e}function U(){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/logout",{method:"DELETE"});case 2:e.sent.ok&&(a(null),d([]),m([]),y([]),L([]),B.push("/login"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(o.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.id),n=t.target.id,e.next=4,fetch("/tracks/".concat(n),{method:"DELETE"});case 4:e.sent.ok&&(c=v.filter((function(e){return e.id!=n})),y(c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(o.a)(l.a.mark((function e(t){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("/users/".concat(n.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(t)});case 3:return c=e.sent,e.next=6,c.json();case 6:s=e.sent,c.ok?(a(s),B.push("/")):L(s.errors);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(n),Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/me");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,a(n),B.push("/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/tracks");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:n=e.sent,y(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[P,n]),Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/users");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,c=W(n),d(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/tags");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:n=e.sent,m(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[P,n]),console.log(v),console.log(h),Object(x.jsxs)("div",{className:"App",children:[n?Object(x.jsx)(p,{user:n,logOut:U,setErrors:L}):null,Object(x.jsxs)(C.d,{children:[Object(x.jsx)(C.b,{exact:!0,path:"/matches",children:n?Object(x.jsx)(g,{user:n}):Object(x.jsx)(C.a,{to:"/login"})}),Object(x.jsx)(C.b,{exact:!0,path:"/profile",children:n?Object(x.jsx)(D,{user:n,tags:h,tracks:v,handleTrackAdd:function(){F(!P)},handleDeleteTrack:function(e){return I.apply(this,arguments)},handleUserUpdate:function(e){return A.apply(this,arguments)},handleUserDelete:function(e){e.preventDefault(),fetch("/users/".concat(n.id),{method:"DELETE"}).then((function(){return U()}))},errors:T}):Object(x.jsx)(C.a,{to:"/login"})}),Object(x.jsx)(C.b,{exact:!0,path:"/login",children:Object(x.jsx)(S,{onLogin:a})}),Object(x.jsx)(C.b,{exact:!0,path:"/",children:n?Object(x.jsx)(k,{tracks:v,swipeUsers:i,setSwipeUsers:d}):Object(x.jsx)(C.a,{to:"/login"})}),Object(x.jsx)(C.b,{exact:!0,path:"/feed",children:n?Object(x.jsx)(R,{tracks:v,tags:h}):Object(x.jsx)(C.a,{to:"/login"})})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};s.a.render(Object(x.jsx)(r.a,{children:Object(x.jsx)(B,{})}),document.getElementById("root")),W()},76:function(e,t,n){},78:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.58cc3624.chunk.js.map